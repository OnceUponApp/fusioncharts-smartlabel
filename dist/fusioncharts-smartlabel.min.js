!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SmartLabel=e():t.SmartLabel=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n={init:function(t){var e=t.document,i=t.navigator.userAgent,r=Math.ceil,s=Math.floor,o="fusioncharts-smartlabel-",h=o+"container",a=o+"tag";return n={win:t,containerClass:h,classNameWithTag:a,classNameWithTagBR:"fusioncharts-smartlabel-br",maxDefaultCacheLimit:1e3,classNameReg:/\bfusioncharts-smartlabel-tag\b/,classNameBrReg:/\bfusioncharts-smartlabel-br\b/,spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+a+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+a+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),brRegex:new RegExp("({br[ ]*})|(<br[ ]*>)|(<br[ ]*/>)|(<BR[ ]*/>)|(<br\\>)","g"),ltgtRegex:/&lt;|&gt;/g,nbspRegex:/&nbsp;|&#160;|&#xA0;/g,htmlSpecialEntityRegex:/&amp;|&quot;|&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,r,s;return e.getElementsByClassName?(n="getElementsByClassName",r=a,s=!0):(n="getElementsByTagName",r="span",s=!1),{isIE:/msie/i.test(i)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(i),isWebKit:new RegExp(" AppleWebKit/").test(i),childRetriverFn:n,childRetriverString:r,noClassTesting:s}},createContainer:function(t){var i,n;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(n=e.createElement("DIV")),n.className=h,n.setAttribute("aria-hidden","true"),n.setAttribute("role","presentation"),n}else if((i=e.getElementsByTagName("body")[0])&&i.appendChild)return(n=e.createElement("DIV")).className=h,n.setAttribute("aria-hidden","true"),n.setAttribute("role","presentation"),i.appendChild(n),n},getNearestBreakIndex:function(t,e,i){if(!t||!t.length)return 0;var n,o=i._getWidthFn(),h=0,a=0,l=o(t),g=l/t.length;if(n=e,h=r(e/g),l<e)return t.length-1;for(h>t.length&&(n=e-l,h=t.length);n>0;){if(n=e-o(t.substr(0,h)),!(a=s(n/g)))return h;h+=a}for(;n<0;){if(n=e-o(t.substr(0,h)),!(a=s(n/g)))return h;h+=a}return h},parseStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return e.fontSize=(t.fontSize||t["font-size"]||"12px")+"",e.fontVariant=t.fontVariant||t["font-variant"]||"normal",e.fontWeight=t.fontWeight||t["font-weight"]||"normal",e.fontStyle=t.fontStyle||t["font-style"]||"normal",e.fontFamily=t.fontFamily||t["font-family"]||"Verdana,sans",e},setLineHeight:function(t){var e=t.fontSize;return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t},_getCleanHeight:function(t){return t=t.replace(/px/g,""),Number(t)},_getDimentionUsingDiv:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(arguments.length>1?arguments[1]:void 0)._container;return t instanceof Array&&(t=t.join("")),e.innerHTML=t,{width:e.offsetWidth,height:e.offsetHeight}},_getDimentionUsingCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=e.ctx,r=e.style,s=n._getCleanHeight(r.lineHeight);return t=t instanceof Array?(t=t.join("")).replace(/<br \/>/g,""):t.replace(/<br \/>/g,""),{width:i.measureText(t).width,height:s}},_hasOnlyBRTag:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n.xmlTagRegEx.test(t)&&n.brRegex.test(t)},_getDimentionOfMultiLineText:function(){var t,e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0,o=r.replace(n.brRegex,"<br />"),h=n._getTextArray(o),a=0,l=0,g=s._getWidthFn(),f=n._getCleanHeight(s.style.lineHeight),d=f,c={};for(t=0,e=h.length;t<e;t++)"<br />"===h[t]?(l=Math.max(l,a),a=0,d+=f):(a+=i=g(h[t]),c[h[t]]=i);return{height:d,width:l=Math.max(l,a),detailObj:c}},_getTextArray:function(){var t,e,i,n,r,s,o=[];for(i=(r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("<br />")).length,t=0;t<i;t++){for(n=(s=r[t].split("")).length,e=0;e<n;e++)o.push(s[e]);t!==i-1&&o.push("<br />")}return o},_findLastIndex:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;for(t=e.length-1;t>=0;t--)if(e[t]===i)return t;return-1}}}},r=n,s=r.init(window),o=s.win.document,h=s.getDocumentSupport(),a=h.isWebKit?0:4.5;function l(t,e,i){var n;i=(i=i>5?i:5)<20?i:20,this.maxContainers=i,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&((n=o.createElementNS("http://www.w3.org/2000/svg","svg")).setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),n.setAttributeNS("http://www.w3.org/2000/svg","height","0"),n.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=n,this.rootNode.appendChild(n))}l.prototype.get=function(t){var e,i,n,r=this.containers,o=this.length,h=this.maxContainers,a="";for(i in s.supportedStyle)void 0!==t[i]&&(a+=s.supportedStyle[i]+":"+t[i]+";");if(!a)return!1;if(n=r[a])this.first!==n&&(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.next=this.first,n.next.prev=n,this.last===n&&(this.last=n.prev),n.prev=null,this.first=n);else{if(o>=h)for(e=o-h+1;e--;)this.removeContainer(this.last);n=this.addContainer(a)}return n},l.prototype._makeDivNode=function(t){var e,i=t.keyStr;t.node||(t.node=o.createElement("div"),t.node.className="fusioncharts-div",this.rootNode.appendChild(t.node)),e=t.node,h.isIE&&!h.hasSVG?e.style.setAttribute("cssText",i):e.setAttribute("style",i),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=s.testStrAvg,t.lineHeight=e.offsetHeight,t.avgCharWidth=e.offsetWidth/3,h.isBrowserLess?(t.svgText||(t.svgText=o.createElementNS("http://www.w3.org/2000/svg","text"),this.svgRoot.appendChild(e)),(e=t.svgText).setAttribute("style",i),e.textContent=s.testStrAvg,t.lineHeight=e.getBBox().height,t.avgCharWidth=(e.getBBox().width-a)/3,e.textContent="...",t.ellipsesWidth=e.getBBox().width-a,e.textContent=".",t.dotWidth=e.getBBox().width-a):(e.innerHTML="...",t.ellipsesWidth=e.offsetWidth,e.innerHTML=".",t.dotWidth=e.offsetWidth,e.innerHTML="")},l.prototype.addContainer=function(t){var e;return this.containers[t]=e={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},e.next=this.first,e.next&&(e.next.prev=e),this.first=e,this.last||(this.last=e),this.length+=1,e},l.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node&&t.node.parentNode.removeChild(t.node),delete this.containers[e])},l.prototype.dispose=function(){var t,e=this.containers;for(t in this.maxContainers=null,e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null};var g=l;function f(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d=r.init(window),c=d.win.document,u=d.win.Math,p=u.max,x=u.round,m={" ":"&nbsp;"},v=d.getDocumentSupport(),y=v.isWebKit?0:4.5;function _(t,e,i){var n,r,s,o=!1,h=window.document.createElement("canvas");for(r in(i=i||{}).maxCacheLimit=isFinite(s=i.maxCacheLimit)?s:d.maxDefaultCacheLimit,"string"==typeof t&&(t=c.getElementById(t)),(n=d.createContainer(t)).innerHTML=d.testStrAvg,!v.isHeadLess&&(v.isIE||n.offsetHeight||n.offsetWidth)||(o=!0),n.innerHTML="",d.parentContainerStyle)n.style[r]=d.parentContainerStyle[r];this.parentContainer=n,this.ctx=h&&h.getContext&&h.getContext("2d"),this._containerManager=new g(n,o,10),this._showNoEllipses=!e,this._init=!0,this.style={},this.oldStyle={},this.options=i,this.setStyle()}_.textToLines=function(t){return(t=t||{}).text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},_.prototype._calCharDimWithCache=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(!this._init)return!1;var n,r,s,o,h,a,l,g,f,d=this.options.maxCacheLimit,c=this.style||{};return a=this._advancedCache=this._advancedCache||(this._advancedCache={}),l=this._advancedCacheKey||(this._advancedCacheKey=[]),g=t+c.fontSize+c.fontFamily+c.fontWeight+c.fontStyle,f=t+"init"+c.fontSize+c.fontFamily+c.fontWeight+c.fontStyle,!this.ctx&&m[t]&&(t=m[t]),e?void 0===(h=a[f])&&(r=this._getDimention(t.repeat?t.repeat(i):Array(i+1).join(t)).width,s=this._getDimention(t).width,h=a[f]=(r-i*s)/(i+1),l.push(f),l.length>d&&delete a[l.shift()]):h=0,(o=a[g])?{width:o.width,height:o.height}:((n=this._getDimention(t)).width+=h,a[g]={width:n.width,height:n.height},l.push(g),l.length>d&&delete a[l.shift()],n)},_.prototype._getDimention=function(t){return this.requireDiv||!this.ctx?d._getDimentionUsingDiv(t,this):d._getDimentionUsingCanvas(t,this)},_.prototype._getWidthFn=function(){var t=this,e=t._containerObj.svgText;return e?function(t){var i,n;return e.textContent=t,(n=(i=e.getBBox()).width-y)<1&&(n=i.width),n}:function(e){return t.requireDiv||!t.ctx?d._getDimentionUsingDiv(e,t).width:d._getDimentionUsingCanvas(e,t).width}},_.prototype._isSameStyle=function(){var t=this.oldStyle||{},e=this.style;return e.fontSize===t.fontSize&&e.fontFamily===t.fontFamily&&e.fontStyle===t.fontStyle&&e.fontWeight===t.fontWeight&&e.fontVariant===t.fontVariant},_.prototype._setStyleOfCanvas=function(){if(!this._isSameStyle()){var t,e,i=this.style,n=i.fontStyle,r=i.fontVariant,s=i.fontWeight,o=i.fontSize,h=i.fontFamily;t=n+" "+r+" "+s+" "+(o+=-1===o.indexOf("px")?"px":"")+" "+h,this.ctx.font=t,e=this._containerObj=this._containerManager.get(i),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,e.ellipsesWidth=this._calCharDimWithCache("...",!1).width,e.dotWidth=this._calCharDimWithCache(".",!1).width,e.lineHeight=this._lineHeight=e.lineHeight||d._getCleanHeight(i.lineHeight),this.oldStyle=i}},_.prototype._setStyleOfDiv=function(){var t,e=this.style;this._containerObj=t=this._containerManager.get(e),t.node||this._containerManager._makeDivNode(this._containerObj),this._containerObj?(this._container=t.node,this._context=t.context,this._cache=t.charCache,this._lineHeight=t.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0},_.prototype._updateStyle=function(){return this.requireDiv||!this.ctx?this._setStyleOfDiv():this._setStyleOfCanvas()},_.prototype.setStyle=function(t){return this.style=d.parseStyle(t),d.setLineHeight(this.style),this},_.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},_.prototype.getSmartText=function(t,e,i,n){if(!this._init)return!1;null==t?t="":"string"!=typeof t&&(t=t.toString());var r,s,o,h,a,l,g,f,u,x,m,y,_,b,w,S,T,C,H,W,N,R,O,j,L,M,D,B,E,A,z,I,F,k,V,P=0,U=-1,q=-1,K=-1,$=0,G=0,J=[],Q=0,X=this._showNoEllipses?"":"...",Y=this.ctx,Z=[],tt=-1,et=-1,it=-1,nt=function(t){for(var e=/\s/,i=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(i-=1)););return t.slice(0,i+1)},rt={text:t,maxWidth:e,maxHeight:i,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(D=d.xmlTagRegEx.test(t)||d.nbspRegex.test(t),k=d._hasOnlyBRTag(t),this.requireDiv=D&&!k,this._updateStyle(),B=this._lineHeight,E=this._context,A=this._container,I=(z=this._containerObj).ellipsesWidth,F=z.dotWidth,l=t.replace(d.spanAdditionRegx,"$2"),y=this._getWidthFn(),B-i<=1&&B-i>=0&&(i*=1.2),Y||A){if(!v.isBrowserLess){if(D?k?(t=t.replace(d.brRegex,"<br />"),V=d._getDimentionOfMultiLineText(t,this),rt.oriTextWidth=g=V.width,rt.oriTextHeight=f=V.height):(A.innerHTML=t,rt.oriTextWidth=g=A.offsetWidth,rt.oriTextHeight=f=A.offsetHeight):(h=t=t.replace(d.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),w=this.getSize(h,!0,{hasHTMLTag:D,hasOnlyBrTag:k,cleanText:!0}),rt.oriTextWidth=g=w.width,rt.oriTextHeight=f=w.height),f<=i&&g<=e)return rt.width=rt.oriTextWidth=g,rt.height=rt.oriTextHeight=f,rt;if(B>i)return rt.text="",rt.width=rt.oriTextWidth=0,rt.height=rt.oriTextHeight=0,rt}if(t=nt(t).replace(/(\s+)/g," "),a=this._showNoEllipses?e:e-I,!D||k){if(r=(J=d._getTextArray(t)).length,s="",o=[],m=J[0],this._cache[m]?H=this._cache[m].width:(H=y(m),this._cache[m]={width:H}),a>H&&!k)o=t.substr(0,d.getNearestBreakIndex(t,a,this)).split("");else{if(H>e)return rt.text="",rt.width=rt.oriTextWidth=rt.height=rt.oriTextHeight=0,rt;X&&((a=e-2*F)>H?X="..":(a=e-F)>H?X=".":(a=0,X=""))}if(Q=o.length,$=y(o.join("")),G=this._lineHeight,n){for(;Q<r;Q+=1)if(m=o[Q]=J[Q],"<br />"!==o[Q]){if(this._cache[m]?H=this._cache[m].width:(w&&(H=w.detailObj[m])||(H=y(m)),this._cache[m]={width:H}),($+=H)>a&&(s||(s=o.slice(0,-1).join("")),$>e))return rt.text=nt(s)+X,rt.tooltext=rt.oriText,rt.width=p(P,$),rt.height=G,rt.isTruncated=!0,rt}else G+=this._lineHeight,K=Q,P=p(P,$),$=0,s=null;return rt.text=o.join(""),rt.width=p(P,$),rt.height=G,rt}for(;Q<r;Q+=1){if(" "!==(m=o[Q]=J[Q])||E||(m=this.ctx?" ":"&nbsp;"),"<br />"===o[Q]){if(P=p(P,$),(G+=this._lineHeight)<=i){K=Q,$=0,s=null;continue}if(G>i)return s=o.slice(0,-1).join(""),rt.text=nt(s)+X,rt.tooltext=l,rt.width=P,rt.height=G-this._lineHeight,rt.isTruncated=!0,rt}if(this._cache[m]?H=this._cache[m].width:(w&&(H=w.detailObj[m])||(H=y(m)),this._cache[m]={width:H}),($+=H)>a&&(s||(s=o.slice(0,-1).join("")),$>e)){if("<br />"===J[Q+1])continue;if(q=d._findLastIndex(J.slice(0,o.length)," "),U=d._findLastIndex(J.slice(0,o.length),"-"),q>K?($=y(o.slice(K+1,q).join("")),o.splice(q,1,"<br />"),K=q,u=q+1):U>K?(U===o.length-1?($=y(o.slice(K+1,q).join("")),o.splice(U,1,"<br />-")):($=y(o.slice(K+1,q).join("")),o.splice(U,1,"-<br />")),K=U,u=U+1):(o.splice(o.length-1,1,"<br />"+J[Q]),it=o.length-2,$=y(o.slice(K+1,it+1).join("")),K=it,u=Q),(G+=this._lineHeight)>i)return rt.text=nt(s)+X,rt.tooltext=rt.oriText,rt.width=e,rt.height=G-this._lineHeight,rt.isTruncated=!0,rt;P=p(P,$),s=null,k?$=d._getDimentionOfMultiLineText(o.slice(K+1).join(""),this).width:(x=d.getNearestBreakIndex(t.substr(u),a,this),$=y(t.substr(u,x||1)),o.length<u+x&&(Q=(o=o.concat(t.substr(o.length,u+x-o.length).split(""))).length-1))}}return P=p(P,$),rt.text=o.join(""),rt.width=P,rt.height=G,rt}for(l=t.replace(d.spanAdditionRegx,"$2"),t=(t=t.replace(d.spanAdditionRegx,d.spanAdditionReplacer)).replace(/(<br\s*\/*\>)/g,'<span class="'+[d.classNameWithTag," ",d.classNameWithTagBR].join("")+'">$1</span>'),A.innerHTML=t,T=0,C=(S=A[v.childRetriverFn](v.childRetriverString)).length;T<C;T+=1)W=S[T],(v.noClassTesting||d.classNameReg.test(W.className))&&""!==(N=W.innerHTML)&&(" "===N?et=Z.length:"-"===N&&(tt=Z.length),Z.push({spaceIdx:et,dashIdx:tt,elem:W}),J.push(N));if(Q=0,(H=(r=Z.length)&&Z[0].elem.offsetWidth)>e||!r)return rt.text="",rt.width=rt.oriTextWidth=rt.height=rt.oriTextHeight=0,rt;if(H>a&&!this._showNoEllipses&&((a=e-2*F)>H?X="..":(a=e-F)>H?X=".":(a=0,X="")),_=Z[0].elem.offsetLeft,b=Z[0].elem.offsetTop,n)for(;Q<r;Q+=1)(R=(W=Z[Q].elem).offsetLeft-_+W.offsetWidth)>a&&(M||(M=Q),A.offsetWidth>e&&(L=Q,Q=r));else for(;Q<r;Q+=1)O=(W=Z[Q].elem).offsetHeight+(W.offsetTop-b),j=null,(R=W.offsetLeft-_+W.offsetWidth)>a?(M||(M=Q),R>e&&(q=Z[Q].spaceIdx,U=Z[Q].dashIdx,q>K?(Z[q].elem.innerHTML="<br/>",K=q):U>K?(Z[U].elem.innerHTML=U===Q?"<br/>-":"-<br/>",K=U):W.parentNode.insertBefore(j=c.createElement("br"),W),W.offsetHeight+W.offsetTop>i?(j?j.parentNode.removeChild(j):K===U?Z[U].elem.innerHTML="-":Z[q].elem.innerHTML=" ",L=Q,Q=r):M=null)):O>i&&(L=Q,Q=r);if(L<r){for(rt.isTruncated=!0,M=M||L,Q=r-1;Q>=M;Q-=1)(W=Z[Q].elem).parentNode.removeChild(W);for(;Q>=0;Q-=1)W=Z[Q].elem,d.classNameBrReg.test(W.className)?W.parentNode.removeChild(W):Q=0}return rt.text=A.innerHTML.replace(d.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),rt.isTruncated&&(rt.text+=X,rt.tooltext=l),rt.height=A.offsetHeight,rt.width=A.offsetWidth,rt}return rt.error=new Error("Body Tag Missing!"),rt},_.prototype.getSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._init)return!1;null==t?t="":"string"!=typeof t&&(t=t.toString());var n,r,s,o,h,a,l=0,g=0,c={},u=i.hasHTMLTag,m=i.hasOnlyBrTag;if(void 0===u&&(u=d.xmlTagRegEx.test(t)||d.nbspRegex.test(t)),void 0===m&&(m=d._hasOnlyBRTag(t)),this.requireDiv=u&&!m,i.cleanText||(t=t.replace(d.ltgtRegex,function(t){return"&lt;"===t?"<":">"})),this._updateStyle(),a=this._container,!e)return this._calCharDimWithCache(t);for(o=0,h=(n=t.split("")).length;o<h;o++)r=n[o],s=this._calCharDimWithCache(r,!1,n.length),g=p(g,s.height),l+=s.width,c[r]=s.width;return m?function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){f(t,e,i[e])})}return t}({},d._getDimentionOfMultiLineText(t,this),{detailObj:c}):u?(a.innerHTML=t,{width:a.offsetWidth,height:a.offsetHeight,detailObj:c}):{width:x(l),height:g,detailObj:c}},_.prototype.getOriSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSize(t,e,i)},_.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this};e.default=_}]).default});